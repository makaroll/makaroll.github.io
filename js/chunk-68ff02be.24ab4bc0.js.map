{"version":3,"sources":["webpack:///./src/components/Trailer.vue?9c3b","webpack:///./src/components/Trailer.vue","webpack:///src/components/Trailer.vue","webpack:///./src/components/Trailer.vue?2071","webpack:///./src/components/Trailer.vue?d56b","webpack:///./node_modules/v-viewer/dist/index.es.js","webpack:///./node_modules/viewerjs/dist/viewer.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/assets/twitter.png"],"names":["render","_vm","this","_c","_self","staticClass","class","borderless","attrs","url","staticRenderFns","name","props","data","component","freeGlobal","global","Object","freeGlobal$1","freeSelf","self","root","Function","root$1","Symbol$1","Symbol","Symbol$2","objectProto$8","prototype","hasOwnProperty$6","hasOwnProperty","nativeObjectToString$1","toString","symToStringTag$1","toStringTag","getRawTag","value","isOwn","call","tag","unmasked","e","result","objectProto$7","nativeObjectToString","objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","isObjectLike","symbolTag","isSymbol","isArray","Array","isArray$1","reWhitespace","trimmedEndIndex","string","index2","length","test","charAt","reTrimStart","baseTrim","slice","replace","isObject","type","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","identity","asyncTag","funcTag$1","genTag","proxyTag","isFunction","coreJsData","coreJsData$1","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","func","funcProto$1","funcToString$1","toSource","reRegExpChar","reIsHostCtor","funcProto","objectProto$6","funcToString","hasOwnProperty$5","reIsNative","RegExp","baseIsNative","pattern","getValue","object","key","getNative","apply","thisArg","args","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","shortOut","count","lastCalled","stamp","remaining","arguments","constant","defineProperty","defineProperty$1","baseSetToString","baseSetToString$1","setToString","setToString$1","MAX_SAFE_INTEGER$1","reIsUint","isIndex","baseAssignValue","eq","objectProto$5","hasOwnProperty$4","assignValue","objValue","copyObject","source","customizer","isNew","newValue","nativeMax$1","Math","max","overRest","start","transform","array","otherArgs","baseRest","MAX_SAFE_INTEGER","isLength","isArrayLike","isIterateeCall","createAssigner","assigner","sources","guard","objectProto$4","isPrototype","Ctor","constructor","proto","baseTimes","n","iteratee","argsTag$1","baseIsArguments","objectProto$3","hasOwnProperty$3","propertyIsEnumerable","isArguments","isArguments$1","stubFalse","freeExports$1","exports","nodeType","freeModule$1","module","moduleExports$1","Buffer","nativeIsBuffer","isBuffer","isBuffer$1","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeUtil$1","nodeIsTypedArray","isTypedArray","isTypedArray$1","objectProto$2","hasOwnProperty$2","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","push","overArg","arg","nativeKeys","nativeKeys$1","objectProto$1","hasOwnProperty$1","baseKeys","objectProto","assign","assign$1","now$1","FUNC_ERROR_TEXT","nativeMax","nativeMin","min","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","_h","$createElement","_t","images","normalizeComponent","scriptExports","render2","staticRenderFns2","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","__vue2_script","rebuild","Boolean","default","trigger","computed","watch","$nextTick","onChange","deep","rebuildViewer","createViewer","destroyViewer","methods","updateViewer","$viewer","update","$emit","destroy","$el","__cssModules","__component__","__vue2_injectStyles","o","directive","debug","el","observer","nextTick","imageDiff","log","imageContent","innerHTML","match","viewerImageText","join","__viewerImageDiffCache","createObserver","debouncedCreateViewer","destroyObserver","MutationObserver","window","WebKitMutationObserver","MozMutationObserver","mutations","forEach","mutation","config","attributes","childList","characterData","subtree","observe","__viewerMutationObserver","createWatcher","expression","vnode","simplePathRE","__viewerUnwatch","$watch","newVal","oldVal","disconnect","destroyWatcher","console","directive2","modifiers","static","api","inline","ViewerToken","extend","style","display","map","attr","src","token","$mount","document","body","appendChild","$destroy","bind","removeChild","show","addEventListener","viewer","index","Vue2","defaultOptions","setDefaults","factory","ownKeys","r","t","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","iterator","_classCallCheck","instance","Constructor","_defineProperties","target","i","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","obj","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","Number","DEFAULTS","backdrop","button","navbar","title","toolbar","className","container","fullscreen","inheritedAttributes","initialCoverage","initialViewIndex","interval","keyboard","focus","loading","loop","minWidth","minHeight","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","slideOnTouch","toggleOnDblclick","tooltip","transition","zIndex","zIndexInline","zoomRatio","minZoomRatio","maxZoomRatio","ready","shown","hide","hidden","view","viewed","move","moved","rotate","rotated","scale","scaled","zoom","zoomed","play","stop","TEMPLATE","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_HIDE_MD_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_XS_DOWN","CLASS_IN","CLASS_INVISIBLE","CLASS_LOADING","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_CLICK","EVENT_DBLCLICK","EVENT_DRAG_START","EVENT_FOCUSIN","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_ERROR","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_MOVE","EVENT_MOVED","EVENT_ROTATE","EVENT_ROTATED","EVENT_SCALE","EVENT_SCALED","EVENT_ZOOM","EVENT_ZOOMED","EVENT_PLAY","EVENT_STOP","DATA_ACTION","REGEXP_SPACES","BUTTONS","isString","isNaN","isNumber","isUndefined","isPlainObject","_constructor","error","callback","_len","_key","REGEXP_SUFFIX","setStyle","element","styles","property","escapeHTMLEntities","hasClass","classList","contains","indexOf","addClass","elem","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","onceSupported","supported","once","listener","get","set","removeEventListener","removeListener","handler","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","getTransforms","_ref","scaleX","scaleY","translateX","translateY","values","WebkitTransform","msTransform","getImageNameFromURL","decodeURIComponent","IS_SAFARI","navigator","userAgent","getImageNaturalSizes","image","newImage","createElement","naturalWidth","naturalHeight","onload","width","height","cssText","getResponsiveClass","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","a","b","getPointer","_ref2","endOnly","pageX","pageY","end","timeStamp","getPointersCenter","_ref3","initContainer","initViewer","initList","renderViewer","initBody","ownerDocument","scrollbarWidth","innerWidth","clientWidth","initialBodyPaddingRight","paddingRight","initialBodyComputedPaddingRight","getComputedStyle","containerData","innerHeight","viewerData","offsetWidth","offsetHeight","parentData","fulled","_this","list","items","alt","getImageURL","item","img","onLoad","onError","firstElementChild","loadImage","renderList","next","nextElementSibling","gutter","marginLeft","outerWidth","resetList","initImage","done","sizingImage","_this2","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","imageData","imageInitializing","abort","aspectRatio","x","y","oldRatio","initialImageData","renderImage","_this3","marginTop","viewing","moving","rotating","scaling","zooming","onTransitionEnd","imageRendering","resetImage","parentNode","events","canvas","onClick","click","onDragStart","dragstart","onPointerDown","pointerdown","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","onWheel","wheel","passive","capture","onDblclick","dblclick","unbind","handlers","action","localName","parentElement","isTrusted","clickCanvasTimeout","played","exit","full","pointerMoved","toggle","reset","prev","preventDefault","doubleClickImageTimeout","originalEvent","load","timeout","originalImage","parentWidth","parentHeight","filled","keyCode","which","charCode","playing","ctrlKey","buttons","showing","hiding","pointerType","changedTouches","touch","identifier","isSwitchable","change","imageClicked","isShown","close","open","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","player","getElementsByTagName","_this4","wheeling","delta","deltaY","wheelDelta","immediate","build","transitioning","id","removeAttribute","initialOffsetWidth","hideImmediately","onViewerTransitionEnd","onImageTransitionEnd","zoomTo","querySelector","activeItem","onViewed","complete","maxIndex","moveTo","_originalEvent","oldX","oldY","changed","degree","rotateTo","oldDegree","_scaleX","_scaleY","_this5","oldScaleX","oldScaleY","showTooltip","pivot","_this6","_zoomable","newWidth","newHeight","offset","center","_this7","total","onLoadWhenPlay","requestFullscreen","referrerPolicy","_this8","exitFullscreen","_this9","enforceFocus","_this10","clearEnforceFocus","_this11","tooltipBox","textContent","round","tooltipping","fading","_this12","isImg","querySelectorAll","changedIndexes","changedIndex","destroyed","delaying","initializing","onStart","others","onFocusin","parseFloat","fucus","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","offsetX","offsetY","absoluteOffsetX","p","AnotherViewer","Viewer","getUniqueID","Error","init","progress","template","custom","zoomButtons","rotateButtons","scaleButtons","size","rotates","position","insertBefore","nextSibling","originalModule","webpackPolyfill","create","children","l"],"mappings":"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","file":"js/chunk-68ff02be.24ab4bc0.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trailer.vue?vue&type=style&index=0&id=0f1e6f3e&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"trailer\"},[_c('div',{staticClass:\"trailer__content clearfix\"},[_c('div',{staticClass:\"video-wrapper\",class:{ 'video-wrapper--borderless': _vm.borderless }},[_c('div',{staticClass:\"video\"},[_c('iframe',{staticClass:\"video__embed\",attrs:{\"src\":_vm.url ? _vm.url : 'https://www.youtube.com/embed/y3hiAN8M9Bg',\"frameborder\":\"0\",\"allow\":\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\"scrolling\":\"no\",\"allowfullscreen\":\"\"}})])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"trailer\">\n    <div class=\"trailer__content clearfix\">\n      <!-- mx-auto sm-col-12 md-col-8 lg-col-6\" -->\n      <div class=\"video-wrapper\" :class=\"{ 'video-wrapper--borderless': borderless }\">\n        <div class=\"video\">\n          <iframe\n            class=\"video__embed\"\n            :src=\"url ? url : 'https://www.youtube.com/embed/y3hiAN8M9Bg'\"\n            frameborder=\"0\"\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n            scrolling=\"no\"\n            allowfullscreen\n          ></iframe>\n        </div>\n        <!-- <div class=\"video-label absolute \">WATCH</div> -->\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: '',\n  props: ['url', 'borderless'],\n  data: () => ({}),\n}\n</script>\n<style lang=\"scss\" scoped>\n.trailer__content {\n}\n\n.video-wrapper {\n  // width: 100%;\n  position: relative;\n  background: black;\n\n  &:before {\n    display: block;\n    content: '';\n    width: 14rem;\n    height: 2rem;\n    background: url(../assets/trailer-border.png) no-repeat;\n    position: absolute;\n    bottom: -1.2rem;\n    left: 0rem;\n  }\n\n  // &:after {\n  //   display: block;\n  //   content: '';\n  //   width: 100%;\n  //   position: absolute;\n  //   top: 50%;\n  //   left: 50%;\n  //   transform: translate3d(-50%, -50%, 0);\n  //   height: 100%;\n  //   // background: red;\n  //   box-shadow: 0 0 0.6rem rgba($hh-white, 0.5);\n  //   border: solid rgba($hh-white, 1) 0.3rem;\n  //   padding: 1.5rem;\n  //   // filter: drop-shadow(0 0 2rem rgba($hh-white, 1));\n  //\n  // }\n\n  border-bottom: solid rgba($hh-white, 1) 0.3rem;\n  padding-bottom: 3rem;\n\n  &--borderless {\n    border: none;\n    padding: 0;\n  }\n\n  &--borderless:before {\n    display: none;\n  }\n}\n\n.video-label {\n  bottom: -2.6rem;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #000;\n  z-index: 9;\n  padding: 0 1rem;\n  font-weight: $font-weight--black;\n  letter-spacing: 0.2rem;\n  font-size: $font-size--m;\n}\n\n.video {\n  position: relative;\n  overflow: hidden;\n  height: 0;\n  padding-bottom: 56.25%;\n  // padding: 2rem;\n  // border: 0.2rem solid $hh-white;\n}\n\n.video__embed {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* Adding pseudo element to iframe parent */\n.video:after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  display: block;\n}\n\n/* Adding hover effect to pseudo element */\n.video:hover:after {\n  // content: none;\n  transition: all 0 linear;\n  transition-delay: 150ms;\n  height: 0;\n}\n\n@media (hover: none) {\n  .video:after {\n    content: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trailer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trailer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Trailer.vue?vue&type=template&id=0f1e6f3e&scoped=true\"\nimport script from \"./Trailer.vue?vue&type=script&lang=js\"\nexport * from \"./Trailer.vue?vue&type=script&lang=js\"\nimport style0 from \"./Trailer.vue?vue&type=style&index=0&id=0f1e6f3e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f1e6f3e\",\n  null\n  \n)\n\nexport default component.exports","import Viewer from \"viewerjs\";\nexport { default as Viewer } from \"viewerjs\";\nimport Vue from \"vue\";\nvar freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\nvar freeGlobal$1 = freeGlobal;\nvar freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\nvar root = freeGlobal$1 || freeSelf || Function(\"return this\")();\nvar root$1 = root;\nvar Symbol$1 = root$1.Symbol;\nvar Symbol$2 = Symbol$1;\nvar objectProto$8 = Object.prototype;\nvar hasOwnProperty$6 = objectProto$8.hasOwnProperty;\nvar nativeObjectToString$1 = objectProto$8.toString;\nvar symToStringTag$1 = Symbol$2 ? Symbol$2.toStringTag : void 0;\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty$6.call(value, symToStringTag$1), tag = value[symToStringTag$1];\n  try {\n    value[symToStringTag$1] = void 0;\n    var unmasked = true;\n  } catch (e) {\n  }\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\nvar objectProto$7 = Object.prototype;\nvar nativeObjectToString = objectProto$7.toString;\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\nvar nullTag = \"[object Null]\", undefinedTag = \"[object Undefined]\";\nvar symToStringTag = Symbol$2 ? Symbol$2.toStringTag : void 0;\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === void 0 ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\nfunction isObjectLike(value) {\n  return value != null && typeof value == \"object\";\n}\nvar symbolTag = \"[object Symbol]\";\nfunction isSymbol(value) {\n  return typeof value == \"symbol\" || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\nvar isArray = Array.isArray;\nvar isArray$1 = isArray;\nvar reWhitespace = /\\s/;\nfunction trimmedEndIndex(string) {\n  var index2 = string.length;\n  while (index2-- && reWhitespace.test(string.charAt(index2))) {\n  }\n  return index2;\n}\nvar reTrimStart = /^\\s+/;\nfunction baseTrim(string) {\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \"\") : string;\n}\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == \"object\" || type == \"function\");\n}\nvar NAN = 0 / 0;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nfunction toNumber(value) {\n  if (typeof value == \"number\") {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n    value = isObject(other) ? other + \"\" : other;\n  }\n  if (typeof value != \"string\") {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nfunction identity(value) {\n  return value;\n}\nvar asyncTag = \"[object AsyncFunction]\", funcTag$1 = \"[object Function]\", genTag = \"[object GeneratorFunction]\", proxyTag = \"[object Proxy]\";\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nvar coreJsData = root$1[\"__core-js_shared__\"];\nvar coreJsData$1 = coreJsData;\nvar maskSrcKey = function() {\n  var uid = /[^.]+$/.exec(coreJsData$1 && coreJsData$1.keys && coreJsData$1.keys.IE_PROTO || \"\");\n  return uid ? \"Symbol(src)_1.\" + uid : \"\";\n}();\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\nvar funcProto$1 = Function.prototype;\nvar funcToString$1 = funcProto$1.toString;\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString$1.call(func);\n    } catch (e) {\n    }\n    try {\n      return func + \"\";\n    } catch (e) {\n    }\n  }\n  return \"\";\n}\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nvar funcProto = Function.prototype, objectProto$6 = Object.prototype;\nvar funcToString = funcProto.toString;\nvar hasOwnProperty$5 = objectProto$6.hasOwnProperty;\nvar reIsNative = RegExp(\n  \"^\" + funcToString.call(hasOwnProperty$5).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n);\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\nfunction getValue(object, key) {\n  return object == null ? void 0 : object[key];\n}\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : void 0;\n}\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n    case 1:\n      return func.call(thisArg, args[0]);\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\nvar HOT_COUNT = 800, HOT_SPAN = 16;\nvar nativeNow = Date.now;\nfunction shortOut(func) {\n  var count = 0, lastCalled = 0;\n  return function() {\n    var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(void 0, arguments);\n  };\n}\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\nvar defineProperty = function() {\n  try {\n    var func = getNative(Object, \"defineProperty\");\n    func({}, \"\", {});\n    return func;\n  } catch (e) {\n  }\n}();\nvar defineProperty$1 = defineProperty;\nvar baseSetToString = !defineProperty$1 ? identity : function(func, string) {\n  return defineProperty$1(func, \"toString\", {\n    \"configurable\": true,\n    \"enumerable\": false,\n    \"value\": constant(string),\n    \"writable\": true\n  });\n};\nvar baseSetToString$1 = baseSetToString;\nvar setToString = shortOut(baseSetToString$1);\nvar setToString$1 = setToString;\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);\n}\nfunction baseAssignValue(object, key, value) {\n  if (key == \"__proto__\" && defineProperty$1) {\n    defineProperty$1(object, key, {\n      \"configurable\": true,\n      \"enumerable\": true,\n      \"value\": value,\n      \"writable\": true\n    });\n  } else {\n    object[key] = value;\n  }\n}\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\nvar objectProto$5 = Object.prototype;\nvar hasOwnProperty$4 = objectProto$5.hasOwnProperty;\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty$4.call(object, key) && eq(objValue, value)) || value === void 0 && !(key in object)) {\n    baseAssignValue(object, key, value);\n  }\n}\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n  var index2 = -1, length = props.length;\n  while (++index2 < length) {\n    var key = props[index2];\n    var newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;\n    if (newValue === void 0) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\nvar nativeMax$1 = Math.max;\nfunction overRest(func, start, transform) {\n  start = nativeMax$1(start === void 0 ? func.length - 1 : start, 0);\n  return function() {\n    var args = arguments, index2 = -1, length = nativeMax$1(args.length - start, 0), array = Array(length);\n    while (++index2 < length) {\n      array[index2] = args[start + index2];\n    }\n    index2 = -1;\n    var otherArgs = Array(start + 1);\n    while (++index2 < start) {\n      otherArgs[index2] = args[index2];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\nfunction baseRest(func, start) {\n  return setToString$1(overRest(func, start, identity), func + \"\");\n}\nvar MAX_SAFE_INTEGER = 9007199254740991;\nfunction isLength(value) {\n  return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\nfunction isIterateeCall(value, index2, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index2;\n  if (type == \"number\" ? isArrayLike(object) && isIndex(index2, object.length) : type == \"string\" && index2 in object) {\n    return eq(object[index2], value);\n  }\n  return false;\n}\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index2 = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : void 0, guard = length > 2 ? sources[2] : void 0;\n    customizer = assigner.length > 3 && typeof customizer == \"function\" ? (length--, customizer) : void 0;\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? void 0 : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index2 < length) {\n      var source = sources[index2];\n      if (source) {\n        assigner(object, source, index2, customizer);\n      }\n    }\n    return object;\n  });\n}\nvar objectProto$4 = Object.prototype;\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto$4;\n  return value === proto;\n}\nfunction baseTimes(n, iteratee) {\n  var index2 = -1, result = Array(n);\n  while (++index2 < n) {\n    result[index2] = iteratee(index2);\n  }\n  return result;\n}\nvar argsTag$1 = \"[object Arguments]\";\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag$1;\n}\nvar objectProto$3 = Object.prototype;\nvar hasOwnProperty$3 = objectProto$3.hasOwnProperty;\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\nvar isArguments = baseIsArguments(function() {\n  return arguments;\n}()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$3.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n};\nvar isArguments$1 = isArguments;\nfunction stubFalse() {\n  return false;\n}\nvar freeExports$1 = typeof exports == \"object\" && exports && !exports.nodeType && exports;\nvar freeModule$1 = freeExports$1 && typeof module == \"object\" && module && !module.nodeType && module;\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\nvar Buffer = moduleExports$1 ? root$1.Buffer : void 0;\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;\nvar isBuffer = nativeIsBuffer || stubFalse;\nvar isBuffer$1 = isBuffer;\nvar argsTag = \"[object Arguments]\", arrayTag = \"[object Array]\", boolTag = \"[object Boolean]\", dateTag = \"[object Date]\", errorTag = \"[object Error]\", funcTag = \"[object Function]\", mapTag = \"[object Map]\", numberTag = \"[object Number]\", objectTag = \"[object Object]\", regexpTag = \"[object RegExp]\", setTag = \"[object Set]\", stringTag = \"[object String]\", weakMapTag = \"[object WeakMap]\";\nvar arrayBufferTag = \"[object ArrayBuffer]\", dataViewTag = \"[object DataView]\", float32Tag = \"[object Float32Array]\", float64Tag = \"[object Float64Array]\", int8Tag = \"[object Int8Array]\", int16Tag = \"[object Int16Array]\", int32Tag = \"[object Int32Array]\", uint8Tag = \"[object Uint8Array]\", uint8ClampedTag = \"[object Uint8ClampedArray]\", uint16Tag = \"[object Uint16Array]\", uint32Tag = \"[object Uint32Array]\";\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\nvar freeExports = typeof exports == \"object\" && exports && !exports.nodeType && exports;\nvar freeModule = freeExports && typeof module == \"object\" && module && !module.nodeType && module;\nvar moduleExports = freeModule && freeModule.exports === freeExports;\nvar freeProcess = moduleExports && freeGlobal$1.process;\nvar nodeUtil = function() {\n  try {\n    var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\n    if (types) {\n      return types;\n    }\n    return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\n  } catch (e) {\n  }\n}();\nvar nodeUtil$1 = nodeUtil;\nvar nodeIsTypedArray = nodeUtil$1 && nodeUtil$1.isTypedArray;\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\nvar isTypedArray$1 = isTypedArray;\nvar objectProto$2 = Object.prototype;\nvar hasOwnProperty$2 = objectProto$2.hasOwnProperty;\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray$1(value), isArg = !isArr && isArguments$1(value), isBuff = !isArr && !isArg && isBuffer$1(value), isType = !isArr && !isArg && !isBuff && isTypedArray$1(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$2.call(value, key)) && !(skipIndexes && (key == \"length\" || isBuff && (key == \"offset\" || key == \"parent\") || isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\nvar nativeKeys = overArg(Object.keys, Object);\nvar nativeKeys$1 = nativeKeys;\nvar objectProto$1 = Object.prototype;\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys$1(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$1.call(object, key) && key != \"constructor\") {\n      result.push(key);\n    }\n  }\n  return result;\n}\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\nvar assign$1 = assign;\nvar now = function() {\n  return root$1.Date.now();\n};\nvar now$1 = now;\nvar FUNC_ERROR_TEXT = \"Expected a function\";\nvar nativeMax = Math.max, nativeMin = Math.min;\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n  if (typeof func != \"function\") {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs, thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = setTimeout(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = now$1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(now$1());\n  }\n  function debounced() {\n    var time = now$1(), isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\nvar render = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\"div\", [_vm._t(\"default\", null, { \"images\": _vm.images, \"options\": _vm.options })], 2);\n};\nvar staticRenderFns = [];\nfunction normalizeComponent(scriptExports, render2, staticRenderFns2, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {\n  var options = typeof scriptExports === \"function\" ? scriptExports.options : scriptExports;\n  if (render2) {\n    options.render = render2;\n    options.staticRenderFns = staticRenderFns2;\n    options._compiled = true;\n  }\n  if (functionalTemplate) {\n    options.functional = true;\n  }\n  if (scopeId) {\n    options._scopeId = \"data-v-\" + scopeId;\n  }\n  var hook;\n  if (moduleIdentifier) {\n    hook = function(context) {\n      context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== \"undefined\") {\n        context = __VUE_SSR_CONTEXT__;\n      }\n      if (injectStyles) {\n        injectStyles.call(this, context);\n      }\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    };\n    options._ssrRegister = hook;\n  } else if (injectStyles) {\n    hook = shadowMode ? function() {\n      injectStyles.call(\n        this,\n        (options.functional ? this.parent : this).$root.$options.shadowRoot\n      );\n    } : injectStyles;\n  }\n  if (hook) {\n    if (options.functional) {\n      options._injectStyles = hook;\n      var originalRender = options.render;\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n  return {\n    exports: scriptExports,\n    options\n  };\n}\nconst __vue2_script = {\n  props: {\n    images: {\n      type: Array\n    },\n    rebuild: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {},\n    options: {\n      type: Object\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {},\n  watch: {\n    images() {\n      this.$nextTick(() => {\n        this.onChange();\n      });\n    },\n    trigger: {\n      handler() {\n        this.$nextTick(() => {\n          this.onChange();\n        });\n      },\n      deep: true\n    },\n    options: {\n      handler() {\n        this.$nextTick(() => {\n          this.rebuildViewer();\n        });\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.createViewer();\n  },\n  unmounted() {\n    this.destroyViewer();\n  },\n  methods: {\n    onChange() {\n      if (this.rebuild) {\n        this.rebuildViewer();\n      } else {\n        this.updateViewer();\n      }\n    },\n    rebuildViewer() {\n      this.destroyViewer();\n      this.createViewer();\n    },\n    updateViewer() {\n      if (this.$viewer) {\n        this.$viewer.update();\n        this.$emit(\"inited\", this.$viewer);\n      } else {\n        this.createViewer();\n      }\n    },\n    destroyViewer() {\n      this.$viewer && this.$viewer.destroy();\n    },\n    createViewer() {\n      this.$viewer = new Viewer(this.$el, this.options);\n      this.$emit(\"inited\", this.$viewer);\n    }\n  }\n};\nconst __cssModules = {};\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  __vue2_script,\n  render,\n  staticRenderFns,\n  false,\n  __vue2_injectStyles,\n  null,\n  null,\n  null\n);\nfunction __vue2_injectStyles(context) {\n  for (let o in __cssModules) {\n    this[o] = __cssModules[o];\n  }\n}\nvar component = /* @__PURE__ */ function() {\n  return __component__.exports;\n}();\nconst directive = ({ name = \"viewer\", debug = false } = {}) => {\n  function createViewer(el, options, rebuild = false, observer = false) {\n    Vue.nextTick(() => {\n      if (observer && !imageDiff(el))\n        return;\n      if (rebuild || !el[`$${name}`]) {\n        destroyViewer(el);\n        el[`$${name}`] = new Viewer(el, options);\n        log(\"Viewer created\");\n      } else {\n        el[`$${name}`].update();\n        log(\"Viewer updated\");\n      }\n    });\n  }\n  function imageDiff(el) {\n    const imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\n    const viewerImageText = imageContent ? imageContent.join(\"\") : void 0;\n    if (el.__viewerImageDiffCache === viewerImageText) {\n      log(\"Element change detected, but image(s) has not changed\");\n      return false;\n    } else {\n      log(\"Image change detected\");\n      el.__viewerImageDiffCache = viewerImageText;\n      return true;\n    }\n  }\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\n    destroyObserver(el);\n    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    if (!MutationObserver) {\n      log(\"Observer not supported\");\n      return;\n    }\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        log(`Viewer mutation:${mutation.type}`);\n        debouncedCreateViewer(el, options, rebuild, true);\n      });\n    });\n    const config = { attributes: true, childList: true, characterData: true, subtree: true };\n    observer.observe(el, config);\n    el.__viewerMutationObserver = observer;\n    log(\"Observer created\");\n  }\n  function createWatcher(el, { expression }, vnode, debouncedCreateViewer) {\n    const simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\n    if (!expression || !simplePathRE.test(expression)) {\n      log(\"Only simple dot-delimited paths can create watcher\");\n      return;\n    }\n    el.__viewerUnwatch = vnode.context.$watch(expression, (newVal, oldVal) => {\n      log(\"Change detected by watcher: \", expression);\n      debouncedCreateViewer(el, newVal, true);\n    }, {\n      deep: true\n    });\n    log(\"Watcher created, expression: \", expression);\n  }\n  function destroyViewer(el) {\n    if (!el[`$${name}`]) {\n      return;\n    }\n    el[`$${name}`].destroy();\n    delete el[`$${name}`];\n    log(\"Viewer destroyed\");\n  }\n  function destroyObserver(el) {\n    if (!el.__viewerMutationObserver) {\n      return;\n    }\n    el.__viewerMutationObserver.disconnect();\n    delete el.__viewerMutationObserver;\n    log(\"Observer destroyed\");\n  }\n  function destroyWatcher(el) {\n    if (!el.__viewerUnwatch) {\n      return;\n    }\n    el.__viewerUnwatch();\n    delete el.__viewerUnwatch;\n    log(\"Watcher destroyed\");\n  }\n  function log() {\n    debug && console.log(...arguments);\n  }\n  const directive2 = {\n    bind(el, binding, vnode) {\n      log(\"Viewer bind\");\n      const debouncedCreateViewer = debounce(createViewer, 50);\n      debouncedCreateViewer(el, binding.value);\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\n      if (!binding.modifiers.static) {\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\n      }\n    },\n    unbind(el, binding) {\n      log(\"Viewer unbind\");\n      destroyObserver(el);\n      destroyWatcher(el);\n      destroyViewer(el);\n    }\n  };\n  return directive2;\n};\nconst api = ({ images = [], options = {} } = {}) => {\n  options = assign$1(options, {\n    inline: false\n  });\n  const ViewerToken = Vue.extend({\n    render(h) {\n      return h(\n        \"div\",\n        {\n          style: {\n            display: \"none\"\n          },\n          class: [\"__viewer-token\"]\n        },\n        images.map((attr) => {\n          return h(\n            \"img\",\n            {\n              attrs: typeof attr === \"string\" ? { src: attr } : attr\n            }\n          );\n        })\n      );\n    }\n  });\n  const token = new ViewerToken();\n  token.$mount();\n  document.body.appendChild(token.$el);\n  const $viewer = new Viewer(token.$el, options);\n  const $destroy = $viewer.destroy.bind($viewer);\n  $viewer.destroy = function() {\n    $destroy();\n    token.$destroy();\n    document.body.removeChild(token.$el);\n    return $viewer;\n  };\n  $viewer.show();\n  token.$el.addEventListener(\"hidden\", function() {\n    if (this.viewer === $viewer) {\n      $viewer.destroy();\n    }\n  });\n  return $viewer;\n};\nvar index = {\n  install(Vue2, { name = \"viewer\", debug = false, defaultOptions } = {}) {\n    Viewer.setDefaults(defaultOptions);\n    Vue2.component(name, assign$1(component, { name }));\n    Vue2.directive(name, directive({ name, debug }));\n    Vue2.prototype[`$${name}Api`] = api;\n  },\n  setDefaults(defaultOptions) {\n    Viewer.setDefaults(defaultOptions);\n  }\n};\nexport { api, component, index as default, directive };\n","/*!\n * Viewer.js v1.11.6\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-09-17T03:16:38.052Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Viewer = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n      var o = Object.getOwnPropertySymbols(e);\n      r && (o = o.filter(function (r) {\n        return Object.getOwnPropertyDescriptor(e, r).enumerable;\n      })), t.push.apply(t, o);\n    }\n    return t;\n  }\n  function _objectSpread2(e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = null != arguments[r] ? arguments[r] : {};\n      r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n        _defineProperty(e, r, t[r]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n        Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n      });\n    }\n    return e;\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  var DEFAULTS = {\n    /**\n     * Enable a modal backdrop, specify `static` for a backdrop\n     * which doesn't close the modal on click.\n     * @type {boolean}\n     */\n    backdrop: true,\n    /**\n     * Show the button on the top-right of the viewer.\n     * @type {boolean}\n     */\n    button: true,\n    /**\n     * Show the navbar.\n     * @type {boolean | number}\n     */\n    navbar: true,\n    /**\n     * Specify the visibility and the content of the title.\n     * @type {boolean | number | Function | Array}\n     */\n    title: true,\n    /**\n     * Show the toolbar.\n     * @type {boolean | number | Object}\n     */\n    toolbar: true,\n    /**\n     * Custom class name(s) to add to the viewer's root element.\n     * @type {string}\n     */\n    className: '',\n    /**\n     * Define where to put the viewer in modal mode.\n     * @type {string | Element}\n     */\n    container: 'body',\n    /**\n     * Filter the images for viewing. Return true if the image is viewable.\n     * @type {Function}\n     */\n    filter: null,\n    /**\n     * Enable to request fullscreen when play.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n     * @type {boolean|FullscreenOptions}\n     */\n    fullscreen: true,\n    /**\n     * Define the extra attributes to inherit from the original image.\n     * @type {Array}\n     */\n    inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n    /**\n     * Define the initial coverage of the viewing image.\n     * @type {number}\n     */\n    initialCoverage: 0.9,\n    /**\n     * Define the initial index of the image for viewing.\n     * @type {number}\n     */\n    initialViewIndex: 0,\n    /**\n     * Enable inline mode.\n     * @type {boolean}\n     */\n    inline: false,\n    /**\n     * The amount of time to delay between automatically cycling an image when playing.\n     * @type {number}\n     */\n    interval: 5000,\n    /**\n     * Enable keyboard support.\n     * @type {boolean}\n     */\n    keyboard: true,\n    /**\n     * Focus the viewer when initialized.\n     * @type {boolean}\n     */\n    focus: true,\n    /**\n     * Indicate if show a loading spinner when load image or not.\n     * @type {boolean}\n     */\n    loading: true,\n    /**\n     * Indicate if enable loop viewing or not.\n     * @type {boolean}\n     */\n    loop: true,\n    /**\n     * Min width of the viewer in inline mode.\n     * @type {number}\n     */\n    minWidth: 200,\n    /**\n     * Min height of the viewer in inline mode.\n     * @type {number}\n     */\n    minHeight: 100,\n    /**\n     * Enable to move the image.\n     * @type {boolean}\n     */\n    movable: true,\n    /**\n     * Enable to rotate the image.\n     * @type {boolean}\n     */\n    rotatable: true,\n    /**\n     * Enable to scale the image.\n     * @type {boolean}\n     */\n    scalable: true,\n    /**\n     * Enable to zoom the image.\n     * @type {boolean}\n     */\n    zoomable: true,\n    /**\n     * Enable to zoom the current image by dragging on the touch screen.\n     * @type {boolean}\n     */\n    zoomOnTouch: true,\n    /**\n     * Enable to zoom the image by wheeling mouse.\n     * @type {boolean}\n     */\n    zoomOnWheel: true,\n    /**\n     * Enable to slide to the next or previous image by swiping on the touch screen.\n     * @type {boolean}\n     */\n    slideOnTouch: true,\n    /**\n     * Indicate if toggle the image size between its natural size\n     * and initial size when double click on the image or not.\n     * @type {boolean}\n     */\n    toggleOnDblclick: true,\n    /**\n     * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n     * @type {boolean}\n     */\n    tooltip: true,\n    /**\n     * Enable CSS3 Transition for some special elements.\n     * @type {boolean}\n     */\n    transition: true,\n    /**\n     * Define the CSS `z-index` value of viewer in modal mode.\n     * @type {number}\n     */\n    zIndex: 2015,\n    /**\n     * Define the CSS `z-index` value of viewer in inline mode.\n     * @type {number}\n     */\n    zIndexInline: 0,\n    /**\n     * Define the ratio when zoom the image by wheeling mouse.\n     * @type {number}\n     */\n    zoomRatio: 0.1,\n    /**\n     * Define the min ratio of the image when zoom out.\n     * @type {number}\n     */\n    minZoomRatio: 0.01,\n    /**\n     * Define the max ratio of the image when zoom in.\n     * @type {number}\n     */\n    maxZoomRatio: 100,\n    /**\n     * Define where to get the original image URL for viewing.\n     * @type {string | Function}\n     */\n    url: 'src',\n    /**\n     * Event shortcuts.\n     * @type {Function}\n     */\n    ready: null,\n    show: null,\n    shown: null,\n    hide: null,\n    hidden: null,\n    view: null,\n    viewed: null,\n    move: null,\n    moved: null,\n    rotate: null,\n    rotated: null,\n    scale: null,\n    scaled: null,\n    zoom: null,\n    zoomed: null,\n    play: null,\n    stop: null\n  };\n\n  var TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'viewer';\n\n  // Actions\n  var ACTION_MOVE = 'move';\n  var ACTION_SWITCH = 'switch';\n  var ACTION_ZOOM = 'zoom';\n\n  // Classes\n  var CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\n  var CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\n  var CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\n  var CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\n  var CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\n  var CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\n  var CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\n  var CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\n  var CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n  var CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\n  var CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\n  var CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\");\n\n  // Native events\n  var EVENT_CLICK = 'click';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_DRAG_START = 'dragstart';\n  var EVENT_FOCUSIN = 'focusin';\n  var EVENT_KEY_DOWN = 'keydown';\n  var EVENT_LOAD = 'load';\n  var EVENT_ERROR = 'error';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_RESIZE = 'resize';\n  var EVENT_TRANSITION_END = 'transitionend';\n  var EVENT_WHEEL = 'wheel';\n\n  // Custom events\n  var EVENT_READY = 'ready';\n  var EVENT_SHOW = 'show';\n  var EVENT_SHOWN = 'shown';\n  var EVENT_HIDE = 'hide';\n  var EVENT_HIDDEN = 'hidden';\n  var EVENT_VIEW = 'view';\n  var EVENT_VIEWED = 'viewed';\n  var EVENT_MOVE = 'move';\n  var EVENT_MOVED = 'moved';\n  var EVENT_ROTATE = 'rotate';\n  var EVENT_ROTATED = 'rotated';\n  var EVENT_SCALE = 'scale';\n  var EVENT_SCALED = 'scaled';\n  var EVENT_ZOOM = 'zoom';\n  var EVENT_ZOOMED = 'zoomed';\n  var EVENT_PLAY = 'play';\n  var EVENT_STOP = 'stop';\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n\n  // RegExps\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  // Misc\n  var BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n  /**\n   * Check if the given value is a string.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n   */\n  function isString(value) {\n    return typeof value === 'string';\n  }\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n        var i;\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} obj - The object to be extended.\n   * @param {*} args - The rest objects which will be merged to the first object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(obj) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n    return obj;\n  };\n  var REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value += 'px';\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Escape a string for using in HTML.\n   * @param {String} value - The string to escape.\n   * @returns {String} Returns the escaped string.\n   */\n  function escapeHTMLEntities(value) {\n    return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    if (!element || !value) {\n      return false;\n    }\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function hyphenate(value) {\n    return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(hyphenate(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n    }\n  }\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @param {Object} options - The additional event options.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data, options) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, _objectSpread2({\n        bubbles: true,\n        cancelable: true,\n        detail: data\n      }, options));\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get an image name from an image url.\n   * @param {string} url - The target url.\n   * @example\n   * // picture.jpg\n   * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n   * @returns {string} A string contains the image name.\n   */\n  function getImageNameFromURL(url) {\n    return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n  }\n  var IS_SAFARI = WINDOW.navigator && /Version\\/\\d+(\\.\\d+)+?\\s+Safari/i.test(WINDOW.navigator.userAgent);\n\n  /**\n   * Get an image's natural sizes.\n   * @param {string} image - The target image.\n   * @param {Object} options - The viewer options.\n   * @param {Function} callback - The callback function.\n   * @returns {HTMLImageElement} The new image.\n   */\n  function getImageNaturalSizes(image, options, callback) {\n    var newImage = document.createElement('img');\n\n    // Modern browsers (except Safari)\n    if (image.naturalWidth && !IS_SAFARI) {\n      callback(image.naturalWidth, image.naturalHeight);\n      return newImage;\n    }\n    var body = document.body || document.documentElement;\n    newImage.onload = function () {\n      callback(newImage.width, newImage.height);\n      if (!IS_SAFARI) {\n        body.removeChild(newImage);\n      }\n    };\n    forEach(options.inheritedAttributes, function (name) {\n      var value = image.getAttribute(name);\n      if (value !== null) {\n        newImage.setAttribute(name, value);\n      }\n    });\n    newImage.src = image.src;\n\n    // iOS Safari will convert the image automatically\n    // with its orientation once append it into DOM\n    if (!IS_SAFARI) {\n      newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n      body.appendChild(newImage);\n    }\n    return newImage;\n  }\n\n  /**\n   * Get the related class name of a responsive type number.\n   * @param {string} type - The responsive type.\n   * @returns {string} The related class name.\n   */\n  function getResponsiveClass(type) {\n    switch (type) {\n      case 2:\n        return CLASS_HIDE_XS_DOWN;\n      case 3:\n        return CLASS_HIDE_SM_DOWN;\n      case 4:\n        return CLASS_HIDE_MD_DOWN;\n      default:\n        return '';\n    }\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      timeStamp: Date.now(),\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initViewer();\n      this.initList();\n      this.renderViewer();\n    },\n    initBody: function initBody() {\n      var ownerDocument = this.element.ownerDocument;\n      var body = ownerDocument.body || ownerDocument.documentElement;\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n      this.initialBodyPaddingRight = body.style.paddingRight;\n      this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n    },\n    initContainer: function initContainer() {\n      this.containerData = {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    },\n    initViewer: function initViewer() {\n      var options = this.options,\n        parent = this.parent;\n      var viewerData;\n      if (options.inline) {\n        viewerData = {\n          width: Math.max(parent.offsetWidth, options.minWidth),\n          height: Math.max(parent.offsetHeight, options.minHeight)\n        };\n        this.parentData = viewerData;\n      }\n      if (this.fulled || !viewerData) {\n        viewerData = this.containerData;\n      }\n      this.viewerData = assign({}, viewerData);\n    },\n    renderViewer: function renderViewer() {\n      if (this.options.inline && !this.fulled) {\n        setStyle(this.viewer, this.viewerData);\n      }\n    },\n    initList: function initList() {\n      var _this = this;\n      var element = this.element,\n        options = this.options,\n        list = this.list;\n      var items = [];\n\n      // initList may be called in this.update, so should keep idempotent\n      list.innerHTML = '';\n      forEach(this.images, function (image, index) {\n        var src = image.src;\n        var alt = image.alt || getImageNameFromURL(src);\n        var url = _this.getImageURL(image);\n        if (src || url) {\n          var item = document.createElement('li');\n          var img = document.createElement('img');\n          forEach(options.inheritedAttributes, function (name) {\n            var value = image.getAttribute(name);\n            if (value !== null) {\n              img.setAttribute(name, value);\n            }\n          });\n          if (options.navbar) {\n            img.src = src || url;\n          }\n          img.alt = alt;\n          img.setAttribute('data-original-url', url || src);\n          item.setAttribute('data-index', index);\n          item.setAttribute('data-viewer-action', 'view');\n          item.setAttribute('role', 'button');\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n          item.appendChild(img);\n          list.appendChild(item);\n          items.push(item);\n        }\n      });\n      this.items = items;\n      forEach(items, function (item) {\n        var image = item.firstElementChild;\n        var onLoad;\n        var onError;\n        setData(image, 'filled', true);\n        if (options.loading) {\n          addClass(item, CLASS_LOADING);\n        }\n        addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n          removeListener(image, EVENT_ERROR, onError);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n          _this.loadImage(event);\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n      });\n      if (options.transition) {\n        addListener(element, EVENT_VIEWED, function () {\n          addClass(list, CLASS_TRANSITION);\n        }, {\n          once: true\n        });\n      }\n    },\n    renderList: function renderList() {\n      var index = this.index;\n      var item = this.items[index];\n      if (!item) {\n        return;\n      }\n      var next = item.nextElementSibling;\n      var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n      var offsetWidth = item.offsetWidth;\n      var outerWidth = offsetWidth + gutter;\n\n      // Place the active item in the center of the screen\n      setStyle(this.list, assign({\n        width: outerWidth * this.length - gutter\n      }, getTransforms({\n        translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n      })));\n    },\n    resetList: function resetList() {\n      var list = this.list;\n      list.innerHTML = '';\n      removeClass(list, CLASS_TRANSITION);\n      setStyle(list, getTransforms({\n        translateX: 0\n      }));\n    },\n    initImage: function initImage(done) {\n      var _this2 = this;\n      var options = this.options,\n        image = this.image,\n        viewerData = this.viewerData;\n      var footerHeight = this.footer.offsetHeight;\n      var viewerWidth = viewerData.width;\n      var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n      var oldImageData = this.imageData || {};\n      var sizingImage;\n      this.imageInitializing = {\n        abort: function abort() {\n          sizingImage.onload = null;\n        }\n      };\n      sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var initialCoverage = Math.max(0, Math.min(1, options.initialCoverage));\n        var width = viewerWidth;\n        var height = viewerHeight;\n        _this2.imageInitializing = false;\n        if (viewerHeight * aspectRatio > viewerWidth) {\n          height = viewerWidth / aspectRatio;\n        } else {\n          width = viewerHeight * aspectRatio;\n        }\n        initialCoverage = isNumber(initialCoverage) ? initialCoverage : 0.9;\n        width = Math.min(width * initialCoverage, naturalWidth);\n        height = Math.min(height * initialCoverage, naturalHeight);\n        var left = (viewerWidth - width) / 2;\n        var top = (viewerHeight - height) / 2;\n        var imageData = {\n          left: left,\n          top: top,\n          x: left,\n          y: top,\n          width: width,\n          height: height,\n          oldRatio: 1,\n          ratio: width / naturalWidth,\n          aspectRatio: aspectRatio,\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        };\n        var initialImageData = assign({}, imageData);\n        if (options.rotatable) {\n          imageData.rotate = oldImageData.rotate || 0;\n          initialImageData.rotate = 0;\n        }\n        if (options.scalable) {\n          imageData.scaleX = oldImageData.scaleX || 1;\n          imageData.scaleY = oldImageData.scaleY || 1;\n          initialImageData.scaleX = 1;\n          initialImageData.scaleY = 1;\n        }\n        _this2.imageData = imageData;\n        _this2.initialImageData = initialImageData;\n        if (done) {\n          done();\n        }\n      });\n    },\n    renderImage: function renderImage(done) {\n      var _this3 = this;\n      var image = this.image,\n        imageData = this.imageData;\n      setStyle(image, assign({\n        width: imageData.width,\n        height: imageData.height,\n        // XXX: Not to use translateX/Y to avoid image shaking when zooming\n        marginLeft: imageData.x,\n        marginTop: imageData.y\n      }, getTransforms(imageData)));\n      if (done) {\n        if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n          var onTransitionEnd = function onTransitionEnd() {\n            _this3.imageRendering = false;\n            done();\n          };\n          this.imageRendering = {\n            abort: function abort() {\n              removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n            }\n          };\n          addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n            once: true\n          });\n        } else {\n          done();\n        }\n      }\n    },\n    resetImage: function resetImage() {\n      var image = this.image;\n      if (image) {\n        if (this.viewing) {\n          this.viewing.abort();\n        }\n        image.parentNode.removeChild(image);\n        this.image = null;\n        this.title.innerHTML = '';\n      }\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n      addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n      addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n      addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n      addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n      addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      removeListener(viewer, EVENT_CLICK, this.onClick);\n      removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n      removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n      removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n      removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n      removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n      removeListener(window, EVENT_RESIZE, this.onResize);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n      }\n    }\n  };\n\n  var handlers = {\n    click: function click(event) {\n      var options = this.options,\n        imageData = this.imageData;\n      var target = event.target;\n      var action = getData(target, DATA_ACTION);\n      if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n        target = target.parentElement;\n        action = getData(target, DATA_ACTION);\n      }\n\n      // Cancel the emulated click when the native click event was triggered.\n      if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n        clearTimeout(this.clickCanvasTimeout);\n      }\n      switch (action) {\n        case 'mix':\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            } else {\n              this.full();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n        case 'hide':\n          if (!this.pointerMoved) {\n            this.hide();\n          }\n          break;\n        case 'view':\n          this.view(getData(target, 'index'));\n          break;\n        case 'zoom-in':\n          this.zoom(0.1, true);\n          break;\n        case 'zoom-out':\n          this.zoom(-0.1, true);\n          break;\n        case 'one-to-one':\n          this.toggle();\n          break;\n        case 'reset':\n          this.reset();\n          break;\n        case 'prev':\n          this.prev(options.loop);\n          break;\n        case 'play':\n          this.play(options.fullscreen);\n          break;\n        case 'next':\n          this.next(options.loop);\n          break;\n        case 'rotate-left':\n          this.rotate(-90);\n          break;\n        case 'rotate-right':\n          this.rotate(90);\n          break;\n        case 'flip-horizontal':\n          this.scaleX(-imageData.scaleX || -1);\n          break;\n        case 'flip-vertical':\n          this.scaleY(-imageData.scaleY || -1);\n          break;\n        default:\n          if (this.played) {\n            this.stop();\n          }\n      }\n    },\n    dblclick: function dblclick(event) {\n      event.preventDefault();\n      if (this.viewed && event.target === this.image) {\n        // Cancel the emulated double click when the native dblclick event was triggered.\n        if (IS_TOUCH_DEVICE && event.isTrusted) {\n          clearTimeout(this.doubleClickImageTimeout);\n        }\n\n        // XXX: No pageX/Y properties in custom event, fallback to the original event.\n        this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\n      }\n    },\n    load: function load() {\n      var _this = this;\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = false;\n      }\n      var element = this.element,\n        options = this.options,\n        image = this.image,\n        index = this.index,\n        viewerData = this.viewerData;\n      removeClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        removeClass(this.canvas, CLASS_LOADING);\n      }\n      image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n      this.initImage(function () {\n        toggleClass(image, CLASS_MOVE, options.movable);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        _this.renderImage(function () {\n          _this.viewed = true;\n          _this.viewing = false;\n          if (isFunction(options.viewed)) {\n            addListener(element, EVENT_VIEWED, options.viewed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_VIEWED, {\n            originalImage: _this.images[index],\n            index: index,\n            image: image\n          }, {\n            cancelable: false\n          });\n        });\n      });\n    },\n    loadImage: function loadImage(event) {\n      var image = event.target;\n      var parent = image.parentNode;\n      var parentWidth = parent.offsetWidth || 30;\n      var parentHeight = parent.offsetHeight || 50;\n      var filled = !!getData(image, 'filled');\n      getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = parentWidth;\n        var height = parentHeight;\n        if (parentHeight * aspectRatio > parentWidth) {\n          if (filled) {\n            width = parentHeight * aspectRatio;\n          } else {\n            height = parentWidth / aspectRatio;\n          }\n        } else if (filled) {\n          height = parentWidth / aspectRatio;\n        } else {\n          width = parentHeight * aspectRatio;\n        }\n        setStyle(image, assign({\n          width: width,\n          height: height\n        }, getTransforms({\n          translateX: (parentWidth - width) / 2,\n          translateY: (parentHeight - height) / 2\n        })));\n      });\n    },\n    keydown: function keydown(event) {\n      var options = this.options;\n      if (!options.keyboard) {\n        return;\n      }\n      var keyCode = event.keyCode || event.which || event.charCode;\n      switch (keyCode) {\n        // Enter\n        case 13:\n          if (this.viewer.contains(event.target)) {\n            this.click(event);\n          }\n          break;\n      }\n      if (!this.fulled) {\n        return;\n      }\n      switch (keyCode) {\n        // Escape\n        case 27:\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n\n        // Space\n        case 32:\n          if (this.played) {\n            this.stop();\n          }\n          break;\n\n        // ArrowLeft\n        case 37:\n          if (this.played && this.playing) {\n            this.playing.prev();\n          } else {\n            this.prev(options.loop);\n          }\n          break;\n\n        // ArrowUp\n        case 38:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom in\n          this.zoom(options.zoomRatio, true);\n          break;\n\n        // ArrowRight\n        case 39:\n          if (this.played && this.playing) {\n            this.playing.next();\n          } else {\n            this.next(options.loop);\n          }\n          break;\n\n        // ArrowDown\n        case 40:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom out\n          this.zoom(-options.zoomRatio, true);\n          break;\n\n        // Ctrl + 0\n        case 48:\n        // Fall through\n\n        // Ctrl + 1\n        // eslint-disable-next-line no-fallthrough\n        case 49:\n          if (event.ctrlKey) {\n            event.preventDefault();\n            this.toggle();\n          }\n          break;\n      }\n    },\n    dragstart: function dragstart(event) {\n      if (event.target.localName === 'img') {\n        event.preventDefault();\n      }\n    },\n    pointerdown: function pointerdown(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var buttons = event.buttons,\n        button = event.button;\n      this.pointerMoved = false;\n      if (!this.viewed || this.showing || this.viewing || this.hiding\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      // Prevent default behaviours as page zooming in touch devices.\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      var action = options.movable ? ACTION_MOVE : false;\n      if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n        action = ACTION_ZOOM;\n      } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n        action = ACTION_SWITCH;\n      }\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        removeClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = action;\n    },\n    pointermove: function pointermove(event) {\n      var pointers = this.pointers,\n        action = this.action;\n      if (!this.viewed || !action) {\n        return;\n      }\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    pointerup: function pointerup(event) {\n      var _this2 = this;\n      var options = this.options,\n        action = this.action,\n        pointers = this.pointers;\n      var pointer;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointer = pointers[touch.identifier];\n          delete pointers[touch.identifier];\n        });\n      } else {\n        pointer = pointers[event.pointerId || 0];\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        addClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = false;\n\n      // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n      if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n        clearTimeout(this.clickCanvasTimeout);\n        clearTimeout(this.doubleClickImageTimeout);\n        if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n          if (this.imageClicked) {\n            this.imageClicked = false;\n\n            // This timeout will be cleared later when a native dblclick event is triggering\n            this.doubleClickImageTimeout = setTimeout(function () {\n              dispatchEvent(_this2.image, EVENT_DBLCLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          } else {\n            this.imageClicked = true;\n\n            // The default timing of a double click in Windows is 500 ms\n            this.doubleClickImageTimeout = setTimeout(function () {\n              _this2.imageClicked = false;\n            }, 500);\n          }\n        } else {\n          this.imageClicked = false;\n          if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n            // This timeout will be cleared later when a native click event is triggering\n            this.clickCanvasTimeout = setTimeout(function () {\n              dispatchEvent(_this2.canvas, EVENT_CLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          }\n        }\n      }\n    },\n    resize: function resize() {\n      var _this3 = this;\n      if (!this.isShown || this.hiding) {\n        return;\n      }\n      if (this.fulled) {\n        this.close();\n        this.initBody();\n        this.open();\n      }\n      this.initContainer();\n      this.initViewer();\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this3.renderImage();\n        });\n      }\n      if (this.played) {\n        if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n          this.stop();\n          return;\n        }\n        forEach(this.player.getElementsByTagName('img'), function (image) {\n          addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n            once: true\n          });\n          dispatchEvent(image, EVENT_LOAD);\n        });\n      }\n    },\n    wheel: function wheel(event) {\n      var _this4 = this;\n      if (!this.viewed) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this4.wheeling = false;\n      }, 50);\n      var ratio = Number(this.options.zoomRatio) || 0.1;\n      var delta = 1;\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, true, null, event);\n    }\n  };\n\n  var methods = {\n    /** Show the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    show: function show() {\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.showing || this.isShown || this.showing) {\n        return this;\n      }\n      if (!this.ready) {\n        this.build();\n        if (this.ready) {\n          this.show(immediate);\n        }\n        return this;\n      }\n      if (isFunction(options.show)) {\n        addListener(element, EVENT_SHOW, options.show, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n        return this;\n      }\n      if (this.hiding) {\n        this.transitioning.abort();\n      }\n      this.showing = true;\n      this.open();\n      var viewer = this.viewer;\n      removeClass(viewer, CLASS_HIDE);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('aria-hidden');\n      if (options.transition && !immediate) {\n        var shown = this.shown.bind(this);\n        this.transitioning = {\n          abort: function abort() {\n            removeListener(viewer, EVENT_TRANSITION_END, shown);\n            removeClass(viewer, CLASS_IN);\n          }\n        };\n        addClass(viewer, CLASS_TRANSITION);\n\n        // Force reflow to enable CSS3 transition\n        viewer.initialOffsetWidth = viewer.offsetWidth;\n        addListener(viewer, EVENT_TRANSITION_END, shown, {\n          once: true\n        });\n        addClass(viewer, CLASS_IN);\n      } else {\n        addClass(viewer, CLASS_IN);\n        this.shown();\n      }\n      return this;\n    },\n    /**\n     * Hide the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    hide: function hide() {\n      var _this = this;\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n        return this;\n      }\n      if (isFunction(options.hide)) {\n        addListener(element, EVENT_HIDE, options.hide, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_HIDE) === false) {\n        return this;\n      }\n      if (this.showing) {\n        this.transitioning.abort();\n      }\n      this.hiding = true;\n      if (this.played) {\n        this.stop();\n      } else if (this.viewing) {\n        this.viewing.abort();\n      }\n      var viewer = this.viewer,\n        image = this.image;\n      var hideImmediately = function hideImmediately() {\n        removeClass(viewer, CLASS_IN);\n        _this.hidden();\n      };\n      if (options.transition && !immediate) {\n        var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n          // Ignore all propagating `transitionend` events (#275).\n          if (event && event.target === viewer) {\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            _this.hidden();\n          }\n        };\n        var onImageTransitionEnd = function onImageTransitionEnd() {\n          // In case of show the viewer by `viewer.show(true)` previously (#407).\n          if (hasClass(viewer, CLASS_TRANSITION)) {\n            addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            removeClass(viewer, CLASS_IN);\n          } else {\n            hideImmediately();\n          }\n        };\n        this.transitioning = {\n          abort: function abort() {\n            if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n              removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n            } else if (hasClass(viewer, CLASS_TRANSITION)) {\n              removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            }\n          }\n        };\n\n        // In case of hiding the viewer when holding on the image (#255),\n        // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n        if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n          addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n            once: true\n          });\n          this.zoomTo(0, false, null, null, true);\n        } else {\n          onImageTransitionEnd();\n        }\n      } else {\n        hideImmediately();\n      }\n      return this;\n    },\n    /**\n     * View one of the images with image's index\n     * @param {number} index - The index of the image to view.\n     * @returns {Viewer} this\n     */\n    view: function view() {\n      var _this2 = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n      index = Number(index) || 0;\n      if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n        return this;\n      }\n      if (!this.isShown) {\n        this.index = index;\n        return this.show();\n      }\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n      var element = this.element,\n        options = this.options,\n        title = this.title,\n        canvas = this.canvas;\n      var item = this.items[index];\n      var img = item.querySelector('img');\n      var url = getData(img, 'originalUrl');\n      var alt = img.getAttribute('alt');\n      var image = document.createElement('img');\n      forEach(options.inheritedAttributes, function (name) {\n        var value = img.getAttribute(name);\n        if (value !== null) {\n          image.setAttribute(name, value);\n        }\n      });\n      image.src = url;\n      image.alt = alt;\n      if (isFunction(options.view)) {\n        addListener(element, EVENT_VIEW, options.view, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_VIEW, {\n        originalImage: this.images[index],\n        index: index,\n        image: image\n      }) === false || !this.isShown || this.hiding || this.played) {\n        return this;\n      }\n      var activeItem = this.items[this.index];\n      if (activeItem) {\n        removeClass(activeItem, CLASS_ACTIVE);\n        activeItem.removeAttribute('aria-selected');\n      }\n      addClass(item, CLASS_ACTIVE);\n      item.setAttribute('aria-selected', true);\n      if (options.focus) {\n        item.focus();\n      }\n      this.image = image;\n      this.viewed = false;\n      this.index = index;\n      this.imageData = {};\n      addClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        addClass(canvas, CLASS_LOADING);\n      }\n      canvas.innerHTML = '';\n      canvas.appendChild(image);\n\n      // Center current item\n      this.renderList();\n\n      // Clear title\n      title.innerHTML = '';\n\n      // Generate title after viewed\n      var onViewed = function onViewed() {\n        var imageData = _this2.imageData;\n        var render = Array.isArray(options.title) ? options.title[1] : options.title;\n        title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n      };\n      var onLoad;\n      var onError;\n      addListener(element, EVENT_VIEWED, onViewed, {\n        once: true\n      });\n      this.viewing = {\n        abort: function abort() {\n          removeListener(element, EVENT_VIEWED, onViewed);\n          if (image.complete) {\n            if (_this2.imageRendering) {\n              _this2.imageRendering.abort();\n            } else if (_this2.imageInitializing) {\n              _this2.imageInitializing.abort();\n            }\n          } else {\n            // Cancel download to save bandwidth.\n            image.src = '';\n            removeListener(image, EVENT_LOAD, onLoad);\n            if (_this2.timeout) {\n              clearTimeout(_this2.timeout);\n            }\n          }\n        }\n      };\n      if (image.complete) {\n        this.load();\n      } else {\n        addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n          removeListener(image, EVENT_ERROR, onError);\n          _this2.load();\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n            _this2.timeout = false;\n          }\n          removeClass(image, CLASS_INVISIBLE);\n          if (options.loading) {\n            removeClass(_this2.canvas, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n\n        // Make the image visible if it fails to load within 1s\n        this.timeout = setTimeout(function () {\n          removeClass(image, CLASS_INVISIBLE);\n          _this2.timeout = false;\n        }, 1000);\n      }\n      return this;\n    },\n    /**\n     * View the previous image\n     * @param {boolean} [loop=false] - Indicate if view the last one\n     * when it is the first one at present.\n     * @returns {Viewer} this\n     */\n    prev: function prev() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var index = this.index - 1;\n      if (index < 0) {\n        index = loop ? this.length - 1 : 0;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * View the next image\n     * @param {boolean} [loop=false] - Indicate if view the first one\n     * when it is the last one at present.\n     * @returns {Viewer} this\n     */\n    next: function next() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var maxIndex = this.length - 1;\n      var index = this.index + 1;\n      if (index > maxIndex) {\n        index = loop ? 0 : maxIndex;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * Move the image with relative offsets.\n     * @param {number} x - The moving distance in the horizontal direction.\n     * @param {number} [y=x] The moving distance in the vertical direction.\n     * @returns {Viewer} this\n     */\n    move: function move(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var imageData = this.imageData;\n      this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n      return this;\n    },\n    /**\n     * Move the image to an absolute point.\n     * @param {number} x - The new position in the horizontal direction.\n     * @param {number} [y=x] - The new position in the vertical direction.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    moveTo: function moveTo(x) {\n      var _this3 = this;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      x = Number(x);\n      y = Number(y);\n      if (this.viewed && !this.played && options.movable) {\n        var oldX = imageData.x;\n        var oldY = imageData.y;\n        var changed = false;\n        if (isNumber(x)) {\n          changed = true;\n        } else {\n          x = oldX;\n        }\n        if (isNumber(y)) {\n          changed = true;\n        } else {\n          y = oldY;\n        }\n        if (changed) {\n          if (isFunction(options.move)) {\n            addListener(element, EVENT_MOVE, options.move, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_MOVE, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }) === false) {\n            return this;\n          }\n          imageData.x = x;\n          imageData.y = y;\n          imageData.left = x;\n          imageData.top = y;\n          this.moving = true;\n          this.renderImage(function () {\n            _this3.moving = false;\n            if (isFunction(options.moved)) {\n              addListener(element, EVENT_MOVED, options.moved, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_MOVED, {\n              x: x,\n              y: y,\n              oldX: oldX,\n              oldY: oldY,\n              originalEvent: _originalEvent\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Rotate the image with a relative degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotate: function rotate(degree) {\n      this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n      return this;\n    },\n    /**\n     * Rotate the image to an absolute degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotateTo: function rotateTo(degree) {\n      var _this4 = this;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      degree = Number(degree);\n      if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n        var oldDegree = imageData.rotate;\n        if (isFunction(options.rotate)) {\n          addListener(element, EVENT_ROTATE, options.rotate, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ROTATE, {\n          degree: degree,\n          oldDegree: oldDegree\n        }) === false) {\n          return this;\n        }\n        imageData.rotate = degree;\n        this.rotating = true;\n        this.renderImage(function () {\n          _this4.rotating = false;\n          if (isFunction(options.rotated)) {\n            addListener(element, EVENT_ROTATED, options.rotated, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ROTATED, {\n            degree: degree,\n            oldDegree: oldDegree\n          }, {\n            cancelable: false\n          });\n        });\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Viewer} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      this.scale(_scaleX, this.imageData.scaleY);\n      return this;\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      this.scale(this.imageData.scaleX, _scaleY);\n      return this;\n    },\n    /**\n     * Scale the image.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scale: function scale(scaleX) {\n      var _this5 = this;\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.viewed && !this.played && options.scalable) {\n        var oldScaleX = imageData.scaleX;\n        var oldScaleY = imageData.scaleY;\n        var changed = false;\n        if (isNumber(scaleX)) {\n          changed = true;\n        } else {\n          scaleX = oldScaleX;\n        }\n        if (isNumber(scaleY)) {\n          changed = true;\n        } else {\n          scaleY = oldScaleY;\n        }\n        if (changed) {\n          if (isFunction(options.scale)) {\n            addListener(element, EVENT_SCALE, options.scale, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_SCALE, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }) === false) {\n            return this;\n          }\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n          this.scaling = true;\n          this.renderImage(function () {\n            _this5.scaling = false;\n            if (isFunction(options.scaled)) {\n              addListener(element, EVENT_SCALED, options.scaled, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_SCALED, {\n              scaleX: scaleX,\n              scaleY: scaleY,\n              oldScaleX: oldScaleX,\n              oldScaleY: oldScaleY\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the image with a relative ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip=false] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    zoom: function zoom(ratio) {\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var imageData = this.imageData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      this.zoomTo(imageData.width * ratio / imageData.naturalWidth, showTooltip, pivot, _originalEvent);\n      return this;\n    },\n    /**\n     * Zoom the image to an absolute ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n     * @returns {Viewer} this\n     */\n    zoomTo: function zoomTo(ratio) {\n      var _this6 = this;\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var _zoomable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var element = this.element,\n        options = this.options,\n        pointers = this.pointers,\n        imageData = this.imageData;\n      var x = imageData.x,\n        y = imageData.y,\n        width = imageData.width,\n        height = imageData.height,\n        naturalWidth = imageData.naturalWidth,\n        naturalHeight = imageData.naturalHeight;\n      ratio = Math.max(0, ratio);\n      if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n        if (!_zoomable) {\n          var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n          var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n          ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n        }\n        if (_originalEvent) {\n          switch (_originalEvent.type) {\n            case 'wheel':\n              if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n                ratio = 1;\n              }\n              break;\n            case 'pointermove':\n            case 'touchmove':\n            case 'mousemove':\n              if (ratio > 0.99 && ratio < 1.01) {\n                ratio = 1;\n              }\n              break;\n          }\n        }\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        var offsetWidth = newWidth - width;\n        var offsetHeight = newHeight - height;\n        var oldRatio = imageData.ratio;\n        if (isFunction(options.zoom)) {\n          addListener(element, EVENT_ZOOM, options.zoom, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        this.zooming = true;\n        if (_originalEvent) {\n          var offset = getOffset(this.viewer);\n          var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n          imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          imageData.x -= offsetWidth * ((pivot.x - x) / width);\n          imageData.y -= offsetHeight * ((pivot.y - y) / height);\n        } else {\n          // Zoom from the center of the image\n          imageData.x -= offsetWidth / 2;\n          imageData.y -= offsetHeight / 2;\n        }\n        imageData.left = imageData.x;\n        imageData.top = imageData.y;\n        imageData.width = newWidth;\n        imageData.height = newHeight;\n        imageData.oldRatio = oldRatio;\n        imageData.ratio = ratio;\n        this.renderImage(function () {\n          _this6.zooming = false;\n          if (isFunction(options.zoomed)) {\n            addListener(element, EVENT_ZOOMED, options.zoomed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ZOOMED, {\n            ratio: ratio,\n            oldRatio: oldRatio,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n        if (showTooltip) {\n          this.tooltip();\n        }\n      }\n      return this;\n    },\n    /**\n     * Play the images\n     * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n     * @returns {Viewer} this\n     */\n    play: function play() {\n      var _this7 = this;\n      var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.isShown || this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.play)) {\n        addListener(element, EVENT_PLAY, options.play, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_PLAY) === false) {\n        return this;\n      }\n      var player = this.player;\n      var onLoad = this.loadImage.bind(this);\n      var list = [];\n      var total = 0;\n      var index = 0;\n      this.played = true;\n      this.onLoadWhenPlay = onLoad;\n      if (fullscreen) {\n        this.requestFullscreen(fullscreen);\n      }\n      addClass(player, CLASS_SHOW);\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = document.createElement('img');\n        image.src = getData(img, 'originalUrl');\n        image.alt = img.getAttribute('alt');\n        image.referrerPolicy = img.referrerPolicy;\n        total += 1;\n        addClass(image, CLASS_FADE);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        if (hasClass(item, CLASS_ACTIVE)) {\n          addClass(image, CLASS_IN);\n          index = i;\n        }\n        list.push(image);\n        addListener(image, EVENT_LOAD, onLoad, {\n          once: true\n        });\n        player.appendChild(image);\n      });\n      if (isNumber(options.interval) && options.interval > 0) {\n        var prev = function prev() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index -= 1;\n          index = index >= 0 ? index : total - 1;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(prev, options.interval);\n        };\n        var next = function next() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index += 1;\n          index = index < total ? index : 0;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(next, options.interval);\n        };\n        if (total > 1) {\n          this.playing = {\n            prev: prev,\n            next: next,\n            timeout: setTimeout(next, options.interval)\n          };\n        }\n      }\n      return this;\n    },\n    // Stop play\n    stop: function stop() {\n      var _this8 = this;\n      if (!this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.stop)) {\n        addListener(element, EVENT_STOP, options.stop, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_STOP) === false) {\n        return this;\n      }\n      var player = this.player;\n      clearTimeout(this.playing.timeout);\n      this.playing = false;\n      this.played = false;\n      forEach(player.getElementsByTagName('img'), function (image) {\n        removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n      });\n      removeClass(player, CLASS_SHOW);\n      player.innerHTML = '';\n      this.exitFullscreen();\n      return this;\n    },\n    // Enter modal mode (only available in inline mode)\n    full: function full() {\n      var _this9 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = true;\n      this.open();\n      addClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      addClass(viewer, CLASS_FIXED);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('style');\n      setStyle(viewer, {\n        zIndex: options.zIndex\n      });\n      if (options.focus) {\n        this.enforceFocus();\n      }\n      this.initContainer();\n      this.viewerData = assign({}, this.containerData);\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this9.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Exit modal mode (only available in inline mode)\n    exit: function exit() {\n      var _this10 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || !this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = false;\n      this.close();\n      removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      if (options.focus) {\n        this.clearEnforceFocus();\n      }\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      removeClass(viewer, CLASS_FIXED);\n      setStyle(viewer, {\n        zIndex: options.zIndexInline\n      });\n      this.viewerData = assign({}, this.parentData);\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this10.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Show the current ratio of the image with percentage\n    tooltip: function tooltip() {\n      var _this11 = this;\n      var options = this.options,\n        tooltipBox = this.tooltipBox,\n        imageData = this.imageData;\n      if (!this.viewed || this.played || !options.tooltip) {\n        return this;\n      }\n      tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n      if (!this.tooltipping) {\n        if (options.transition) {\n          if (this.fading) {\n            dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n          }\n          addClass(tooltipBox, CLASS_SHOW);\n          addClass(tooltipBox, CLASS_FADE);\n          addClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.removeAttribute('aria-hidden');\n\n          // Force reflow to enable CSS3 transition\n          tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n          addClass(tooltipBox, CLASS_IN);\n        } else {\n          addClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.removeAttribute('aria-hidden');\n        }\n      } else {\n        clearTimeout(this.tooltipping);\n      }\n      this.tooltipping = setTimeout(function () {\n        if (options.transition) {\n          addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n            removeClass(tooltipBox, CLASS_SHOW);\n            removeClass(tooltipBox, CLASS_FADE);\n            removeClass(tooltipBox, CLASS_TRANSITION);\n            tooltipBox.setAttribute('aria-hidden', true);\n            _this11.fading = false;\n          }, {\n            once: true\n          });\n          removeClass(tooltipBox, CLASS_IN);\n          _this11.fading = true;\n        } else {\n          removeClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.setAttribute('aria-hidden', true);\n        }\n        _this11.tooltipping = false;\n      }, 1000);\n      return this;\n    },\n    /**\n     * Toggle the image size between its current size and natural size\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    toggle: function toggle() {\n      var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (this.imageData.ratio === 1) {\n        this.zoomTo(this.imageData.oldRatio, true, null, _originalEvent);\n      } else {\n        this.zoomTo(1, true, null, _originalEvent);\n      }\n      return this;\n    },\n    // Reset the image to its initial state\n    reset: function reset() {\n      if (this.viewed && !this.played) {\n        this.imageData = assign({}, this.initialImageData);\n        this.renderImage();\n      }\n      return this;\n    },\n    // Update viewer when images changed\n    update: function update() {\n      var _this12 = this;\n      var element = this.element,\n        options = this.options,\n        isImg = this.isImg;\n\n      // Destroy viewer if the target image was deleted\n      if (isImg && !element.parentNode) {\n        return this.destroy();\n      }\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this12, image)) {\n            images.push(image);\n          }\n        } else if (_this12.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n      if (!images.length) {\n        return this;\n      }\n      this.images = images;\n      this.length = images.length;\n      if (this.ready) {\n        var changedIndexes = [];\n        forEach(this.items, function (item, i) {\n          var img = item.querySelector('img');\n          var image = images[i];\n          if (image && img) {\n            if (image.src !== img.src\n\n            // Title changed (#408)\n            || image.alt !== img.alt) {\n              changedIndexes.push(i);\n            }\n          } else {\n            changedIndexes.push(i);\n          }\n        });\n        setStyle(this.list, {\n          width: 'auto'\n        });\n        this.initList();\n        if (this.isShown) {\n          if (this.length) {\n            if (this.viewed) {\n              var changedIndex = changedIndexes.indexOf(this.index);\n              if (changedIndex >= 0) {\n                this.viewed = false;\n                this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n              } else {\n                var activeItem = this.items[this.index];\n\n                // Reactivate the current viewing item after reset the list.\n                addClass(activeItem, CLASS_ACTIVE);\n                activeItem.setAttribute('aria-selected', true);\n              }\n            }\n          } else {\n            this.image = null;\n            this.viewed = false;\n            this.index = 0;\n            this.imageData = {};\n            this.canvas.innerHTML = '';\n            this.title.innerHTML = '';\n          }\n        }\n      } else {\n        this.build();\n      }\n      return this;\n    },\n    // Destroy the viewer\n    destroy: function destroy() {\n      var element = this.element,\n        options = this.options;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      this.destroyed = true;\n      if (this.ready) {\n        if (this.played) {\n          this.stop();\n        }\n        if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n          this.unbind();\n        } else if (this.isShown) {\n          if (this.viewing) {\n            if (this.imageRendering) {\n              this.imageRendering.abort();\n            } else if (this.imageInitializing) {\n              this.imageInitializing.abort();\n            }\n          }\n          if (this.hiding) {\n            this.transitioning.abort();\n          }\n          this.hidden();\n        } else if (this.showing) {\n          this.transitioning.abort();\n          this.hidden();\n        }\n        this.ready = false;\n        this.viewer.parentNode.removeChild(this.viewer);\n      } else if (options.inline) {\n        if (this.delaying) {\n          this.delaying.abort();\n        } else if (this.initializing) {\n          this.initializing.abort();\n        }\n      }\n      if (!options.inline) {\n        removeListener(element, EVENT_CLICK, this.onStart);\n      }\n      element[NAMESPACE] = undefined;\n      return this;\n    }\n  };\n\n  var others = {\n    getImageURL: function getImageURL(image) {\n      var url = this.options.url;\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(this, image);\n      } else {\n        url = '';\n      }\n      return url;\n    },\n    enforceFocus: function enforceFocus() {\n      var _this = this;\n      this.clearEnforceFocus();\n      addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n        var viewer = _this.viewer;\n        var target = event.target;\n        if (target === document || target === viewer || viewer.contains(target)) {\n          return;\n        }\n        while (target) {\n          // Avoid conflicts with other modals (#474, #540)\n          if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\n            return;\n          }\n          target = target.parentElement;\n        }\n        viewer.focus();\n      });\n    },\n    clearEnforceFocus: function clearEnforceFocus() {\n      if (this.onFocusin) {\n        removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n        this.onFocusin = null;\n      }\n    },\n    open: function open() {\n      var body = this.body;\n      addClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n      }\n    },\n    close: function close() {\n      var body = this.body;\n      removeClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = this.initialBodyPaddingRight;\n      }\n    },\n    shown: function shown() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      this.fulled = true;\n      this.isShown = true;\n      this.render();\n      this.bind();\n      this.showing = false;\n      if (options.focus) {\n        viewer.focus();\n        this.enforceFocus();\n      }\n      if (isFunction(options.shown)) {\n        addListener(element, EVENT_SHOWN, options.shown, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOWN) === false) {\n        return;\n      }\n      if (this.ready && this.isShown && !this.hiding) {\n        this.view(this.index);\n      }\n    },\n    hidden: function hidden() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      if (options.fucus) {\n        this.clearEnforceFocus();\n      }\n      this.close();\n      this.unbind();\n      addClass(viewer, CLASS_HIDE);\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      viewer.setAttribute('aria-hidden', true);\n      this.resetList();\n      this.resetImage();\n      this.fulled = false;\n      this.viewed = false;\n      this.isShown = false;\n      this.hiding = false;\n      if (!this.destroyed) {\n        if (isFunction(options.hidden)) {\n          addListener(element, EVENT_HIDDEN, options.hidden, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_HIDDEN, null, {\n          cancelable: false\n        });\n      }\n    },\n    requestFullscreen: function requestFullscreen(options) {\n      var document = this.element.ownerDocument;\n      if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        var documentElement = document.documentElement;\n\n        // Element.requestFullscreen()\n        if (documentElement.requestFullscreen) {\n          // Avoid TypeError when convert `options` to dictionary\n          if (isPlainObject(options)) {\n            documentElement.requestFullscreen(options);\n          } else {\n            documentElement.requestFullscreen();\n          }\n        } else if (documentElement.webkitRequestFullscreen) {\n          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        } else if (documentElement.mozRequestFullScreen) {\n          documentElement.mozRequestFullScreen();\n        } else if (documentElement.msRequestFullscreen) {\n          documentElement.msRequestFullscreen();\n        }\n      }\n    },\n    exitFullscreen: function exitFullscreen() {\n      var document = this.element.ownerDocument;\n      if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        // Document.exitFullscreen()\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    change: function change(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var pointer = pointers[Object.keys(pointers)[0]];\n\n      // In the case of the `pointers` object is empty (#421)\n      if (!pointer) {\n        return;\n      }\n      var offsetX = pointer.endX - pointer.startX;\n      var offsetY = pointer.endY - pointer.startY;\n      switch (this.action) {\n        // Move the current image\n        case ACTION_MOVE:\n          if (offsetX !== 0 || offsetY !== 0) {\n            this.pointerMoved = true;\n            this.move(offsetX, offsetY, event);\n          }\n          break;\n\n        // Zoom the current image\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), false, null, event);\n          break;\n        case ACTION_SWITCH:\n          {\n            this.action = 'switched';\n            var absoluteOffsetX = Math.abs(offsetX);\n            if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n              // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n              this.pointers = {};\n              if (offsetX > 1) {\n                this.prev(options.loop);\n              } else if (offsetX < -1) {\n                this.next(options.loop);\n              }\n            }\n            break;\n          }\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    },\n    isSwitchable: function isSwitchable() {\n      var imageData = this.imageData,\n        viewerData = this.viewerData;\n      return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n    }\n  };\n\n  var AnotherViewer = WINDOW.Viewer;\n  var getUniqueID = function (id) {\n    return function () {\n      id += 1;\n      return id;\n    };\n  }(-1);\n  var Viewer = /*#__PURE__*/function () {\n    /**\n     * Create a new Viewer.\n     * @param {Element} element - The target element for viewing.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Viewer(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Viewer);\n      if (!element || element.nodeType !== 1) {\n        throw new Error('The first argument is required and must be an element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.action = false;\n      this.fading = false;\n      this.fulled = false;\n      this.hiding = false;\n      this.imageClicked = false;\n      this.imageData = {};\n      this.index = this.options.initialViewIndex;\n      this.isImg = false;\n      this.isShown = false;\n      this.length = 0;\n      this.moving = false;\n      this.played = false;\n      this.playing = false;\n      this.pointers = {};\n      this.ready = false;\n      this.rotating = false;\n      this.scaling = false;\n      this.showing = false;\n      this.timeout = false;\n      this.tooltipping = false;\n      this.viewed = false;\n      this.viewing = false;\n      this.wheeling = false;\n      this.zooming = false;\n      this.pointerMoved = false;\n      this.id = getUniqueID();\n      this.init();\n    }\n    _createClass(Viewer, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var element = this.element,\n          options = this.options;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n\n        // The `focus` option requires the `keyboard` option set to `true`.\n        if (options.focus && !options.keyboard) {\n          options.focus = false;\n        }\n        var isImg = element.localName === 'img';\n        var images = [];\n        forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n          if (isFunction(options.filter)) {\n            if (options.filter.call(_this, image)) {\n              images.push(image);\n            }\n          } else if (_this.getImageURL(image)) {\n            images.push(image);\n          }\n        });\n        this.isImg = isImg;\n        this.length = images.length;\n        this.images = images;\n        this.initBody();\n\n        // Override `transition` option if it is not supported\n        if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n          options.transition = false;\n        }\n        if (options.inline) {\n          var count = 0;\n          var progress = function progress() {\n            count += 1;\n            if (count === _this.length) {\n              var timeout;\n              _this.initializing = false;\n              _this.delaying = {\n                abort: function abort() {\n                  clearTimeout(timeout);\n                }\n              };\n\n              // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n              timeout = setTimeout(function () {\n                _this.delaying = false;\n                _this.build();\n              }, 0);\n            }\n          };\n          this.initializing = {\n            abort: function abort() {\n              forEach(images, function (image) {\n                if (!image.complete) {\n                  removeListener(image, EVENT_LOAD, progress);\n                  removeListener(image, EVENT_ERROR, progress);\n                }\n              });\n            }\n          };\n          forEach(images, function (image) {\n            if (image.complete) {\n              progress();\n            } else {\n              var onLoad;\n              var onError;\n              addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n                removeListener(image, EVENT_ERROR, onError);\n                progress();\n              }, {\n                once: true\n              });\n              addListener(image, EVENT_ERROR, onError = function onError() {\n                removeListener(image, EVENT_LOAD, onLoad);\n                progress();\n              }, {\n                once: true\n              });\n            }\n          });\n        } else {\n          addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n            var target = _ref.target;\n            if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n              _this.view(_this.images.indexOf(target));\n            }\n          });\n        }\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options;\n        var parent = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n        var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n        var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n        var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n        var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        this.parent = parent;\n        this.viewer = viewer;\n        this.title = title;\n        this.toolbar = toolbar;\n        this.navbar = navbar;\n        this.button = button;\n        this.canvas = canvas;\n        this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n        this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n        this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n        this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n        viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n        title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n        addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n        addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n        toggleClass(button, CLASS_HIDE, !options.button);\n        if (options.keyboard) {\n          button.setAttribute('tabindex', 0);\n        }\n        if (options.backdrop) {\n          addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n          if (!options.inline && options.backdrop !== 'static') {\n            setData(canvas, DATA_ACTION, 'hide');\n          }\n        }\n        if (isString(options.className) && options.className) {\n          // In case there are multiple class names\n          options.className.split(REGEXP_SPACES).forEach(function (className) {\n            addClass(viewer, className);\n          });\n        }\n        if (options.toolbar) {\n          var list = document.createElement('ul');\n          var custom = isPlainObject(options.toolbar);\n          var zoomButtons = BUTTONS.slice(0, 3);\n          var rotateButtons = BUTTONS.slice(7, 9);\n          var scaleButtons = BUTTONS.slice(9);\n          if (!custom) {\n            addClass(toolbar, getResponsiveClass(options.toolbar));\n          }\n          forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n            var deep = custom && isPlainObject(value);\n            var name = custom ? hyphenate(index) : value;\n            var show = deep && !isUndefined(value.show) ? value.show : value;\n            if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n              return;\n            }\n            var size = deep && !isUndefined(value.size) ? value.size : value;\n            var click = deep && !isUndefined(value.click) ? value.click : value;\n            var item = document.createElement('li');\n            if (options.keyboard) {\n              item.setAttribute('tabindex', 0);\n            }\n            item.setAttribute('role', 'button');\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n            if (!isFunction(click)) {\n              setData(item, DATA_ACTION, name);\n            }\n            if (isNumber(show)) {\n              addClass(item, getResponsiveClass(show));\n            }\n            if (['small', 'large'].indexOf(size) !== -1) {\n              addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n            } else if (name === 'play') {\n              addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n            }\n            if (isFunction(click)) {\n              addListener(item, EVENT_CLICK, click);\n            }\n            list.appendChild(item);\n          });\n          toolbar.appendChild(list);\n        } else {\n          addClass(toolbar, CLASS_HIDE);\n        }\n        if (!options.rotatable) {\n          var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n          addClass(rotates, CLASS_INVISIBLE);\n          forEach(rotates, function (rotate) {\n            toolbar.appendChild(rotate);\n          });\n        }\n        if (options.inline) {\n          addClass(button, CLASS_FULLSCREEN);\n          setStyle(viewer, {\n            zIndex: options.zIndexInline\n          });\n          if (window.getComputedStyle(parent).position === 'static') {\n            setStyle(parent, {\n              position: 'relative'\n            });\n          }\n          parent.insertBefore(viewer, element.nextSibling);\n        } else {\n          addClass(button, CLASS_CLOSE);\n          addClass(viewer, CLASS_FIXED);\n          addClass(viewer, CLASS_FADE);\n          addClass(viewer, CLASS_HIDE);\n          setStyle(viewer, {\n            zIndex: options.zIndex\n          });\n          var container = options.container;\n          if (isString(container)) {\n            container = element.ownerDocument.querySelector(container);\n          }\n          if (!container) {\n            container = this.body;\n          }\n          container.appendChild(viewer);\n        }\n        if (options.inline) {\n          this.render();\n          this.bind();\n          this.isShown = true;\n        }\n        this.ready = true;\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_READY) === false) {\n          this.ready = false;\n          return;\n        }\n        if (this.ready && options.inline) {\n          this.view(this.index);\n        }\n      }\n\n      /**\n       * Get the no conflict viewer class.\n       * @returns {Viewer} The viewer class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Viewer = AnotherViewer;\n        return Viewer;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Viewer;\n  }();\n  assign(Viewer.prototype, render, events, handlers, methods, others);\n\n  return Viewer;\n\n}));\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAA+CAYAAAEOmjaAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTM2MzhBN0U1ODI4MTFFQTlFNzc4NDQ5RDZEQUZGRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTM2MzhBN0Y1ODI4MTFFQTlFNzc4NDQ5RDZEQUZGRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MTcwNEU0OTU4MjUxMUVBOUU3Nzg0NDlENkRBRkZFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MTcwNEU0QTU4MjUxMUVBOUU3Nzg0NDlENkRBRkZFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtX2HoIAAAYfSURBVHjaYvz/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\""],"sourceRoot":""}